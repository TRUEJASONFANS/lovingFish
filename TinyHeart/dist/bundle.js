!function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){t.exports=i.p+"daff51c36cafd94933d4909b0030b911.png"},function(t,e,i){t.exports=i.p+"fe8b86005e2f60e33de6a0d3c36ebb8e.png"},function(t,e,i){t.exports=i.p+"1ed76daad915d2ede7428cf0b175a290.jpg"},function(t,e,i){"use strict";i.r(e);class a{constructor(t,e,i){this.rootx=[],this.headx=[],this.heady=[],this.x=[],this.len=[],this.alpha=0,this.amp=[],this.num=50;for(var a=0;a<this.num;a++)this.rootx[a]=16*a+20*Math.random(),this.headx[a]=this.rootx[a],this.heady[a]=e-280+50*Math.random(),this.amp[a]=50*Math.random()+50;this.canHeight=e,this.timeLine=i,this.ctx2=t}draw(){let t=this.timeLine.getDeltaTime();this.alpha+=8e-4*t;var e=Math.sin(this.alpha);let i=this.ctx2;i.save(),i.globalAlpha=.6,console.log(e);for(var a=0;a<this.num;a++)i.beginPath(),i.moveTo(this.rootx[a],this.canHeight),this.headx[a]=this.rootx[a]+e*this.amp[a],i.quadraticCurveTo(this.rootx[a],this.canHeight-100,this.headx[a],this.heady[a]),i.lineWidth=20,i.lineCap="round",i.strokeStyle="#3b154e",i.stroke();i.restore()}}class n{constructor(t,e,i,a){this.bgPic=t,this.canWidth=e,this.canHeight=i,this.ctx2=a}drawBackground(){this.ctx2.drawImage(this.bgPic,0,0,this.canWidth,this.canHeight)}monitorFruit(t){for(var e=0,i=0;i<t.num;i++)t.alive[i]&&e++;e<15&&sendFruit(t)}sendFruit(t){for(var e=0;e<t.num;e++)if(!t.alive[e])return void t.born(e)}}i(0),i(1);class s{constructor(){this.fruitNum=0,this.double=1,this.score=0,this.gameover=!1,this.alpha=0}draw(){var t=canvas1.width,e=canvas2.height;ctx1.shadowBlur=10,ctx1.shadowColor="white",ctx1.fillStyle="white",ctx1.fillText("SCORE: "+this.score,.5*t,e-20),this.gameover&&(this.alpha+=5e-4*deltaTime,this.alpha>1&&(this.alpha=1),ctx1.fillStyle="rgba(255,255,255,"+this.alpha+")",ctx1.fillText("GAMEOVER",.5*t,.5*e))}addScore(){this.score+=100*this.fruitNum*this.double,this.fruitNum=0,this.double=1}}var o=i(2),h=i.n(o);class r{constructor(){this.deltaTime=0,this.lastTime=Date.now()}getDeltaTime(){return this.deltaTime}nextTick(){let t=Date.now(),e=t-this.lastTime;this.lastTime=t,e>50&&(e=50),this.deltaTime=e}}class c{constructor(t){this.canvas1=document.getElementById("canvas1"),this.canvas2=document.getElementById("canvas2"),this.ctx1=this.canvas1.getContext("2d"),this.ctx2=this.canvas2.getContext("2d"),this.window=t,this.canvas1.addEventListener("mousemove",this.onMouseMove,!1),this.canWidth=this.canvas1.width,this.canHeight=this.canvas1.height,this.bg=new Image,this.bg.src=h.a,this.timeLine=new r,this.oceaContext=new n(this.bg,this.canWidth,this.canHeight,this.ctx2),this.ane=new a(this.ctx2,this.canHeight,this.timeLine),this.data=new s,this.onMouseMove.bind(this),this.ctx1.font="30px Verdana",this.ctx1.textAlign="center"}onMouseMove(t){this.data.gameover||!t.offSetX&&!t.layerX||(mx=void 0==t.offSetX?t.layerX:t.offSetX,my=void 0==t.offSetY?t.layerY:t.offSetY)}gameloop(){requestAnimationFrame(this.gameloop.bind(this)),this.timeLine.nextTick(),this.oceaContext.drawBackground(),this.ane.draw()}}document.body.onload=function(){(new c).gameloop()},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}]);