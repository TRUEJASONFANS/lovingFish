!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=89)}([function(t,e,n){t.exports=n.p+"fe8b86005e2f60e33de6a0d3c36ebb8e.png"},function(t,e,n){t.exports=n.p+"daff51c36cafd94933d4909b0030b911.png"},function(t,e,n){t.exports=n.p+"1ed76daad915d2ede7428cf0b175a290.jpg"},function(t,e,n){var i={"./baby.png":4,"./babyEye0.png":5,"./babyEye1.png":6,"./babyFade0.png":7,"./babyFade1.png":8,"./babyFade10.png":9,"./babyFade11.png":10,"./babyFade12.png":11,"./babyFade13.png":12,"./babyFade14.png":13,"./babyFade15.png":14,"./babyFade16.png":15,"./babyFade17.png":16,"./babyFade18.png":17,"./babyFade19.png":18,"./babyFade2.png":19,"./babyFade3.png":20,"./babyFade4.png":21,"./babyFade5.png":22,"./babyFade6.png":23,"./babyFade7.png":24,"./babyFade8.png":25,"./babyFade9.png":26,"./babyTail0.png":27,"./babyTail1.png":28,"./babyTail2.png":29,"./babyTail3.png":30,"./babyTail4.png":31,"./babyTail5.png":32,"./babyTail6.png":33,"./babyTail7.png":34,"./background.jpg":35,"./big.png":36,"./bigEat0.png":37,"./bigEat1.png":38,"./bigEat2.png":39,"./bigEat3.png":40,"./bigEat4.png":41,"./bigEat5.png":42,"./bigEat6.png":43,"./bigEat7.png":44,"./bigEatBlue0.png":45,"./bigEatBlue1.png":46,"./bigEatBlue2.png":47,"./bigEatBlue3.png":48,"./bigEatBlue4.png":49,"./bigEatBlue5.png":50,"./bigEatBlue6.png":51,"./bigEatBlue7.png":52,"./bigEye0.png":53,"./bigEye1.png":54,"./bigSwim0.png":55,"./bigSwim1.png":56,"./bigSwim2.png":57,"./bigSwim3.png":58,"./bigSwim4.png":59,"./bigSwim5.png":60,"./bigSwim6.png":61,"./bigSwim7.png":62,"./bigSwimBlue0.png":63,"./bigSwimBlue1.png":64,"./bigSwimBlue2.png":65,"./bigSwimBlue3.png":66,"./bigSwimBlue4.png":67,"./bigSwimBlue5.png":68,"./bigSwimBlue6.png":69,"./bigSwimBlue7.png":70,"./bigTail0.png":71,"./bigTail1.png":72,"./bigTail2.png":73,"./bigTail3.png":74,"./bigTail4.png":75,"./bigTail5.png":76,"./bigTail6.png":77,"./bigTail7.png":78,"./blue.png":0,"./cover.png":79,"./dust0.png":80,"./dust1.png":81,"./dust2.png":82,"./dust3.png":83,"./dust4.png":84,"./dust5.png":85,"./dust6.png":86,"./fruit.png":1,"./play.png":87};function a(t){var e=o(t);return n(e)}function o(t){var e=i[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id=3},function(t,e,n){t.exports=n.p+"38ee01f3ca0c1b05647ed1b063d58f99.png"},function(t,e,n){t.exports=n.p+"3d8ed79ce2ffcd402d06d8b6a4ccf380.png"},function(t,e,n){t.exports=n.p+"7cd29915e254a0b6555d826f0de23aff.png"},function(t,e,n){t.exports=n.p+"38ee01f3ca0c1b05647ed1b063d58f99.png"},function(t,e,n){t.exports=n.p+"eaca8ec1203bd92ac4dbda73ce264f5f.png"},function(t,e,n){t.exports=n.p+"be3e3981a007f0bc3c4c61e0a2fd4a16.png"},function(t,e,n){t.exports=n.p+"d95d99e80231bcd1f6f1802e6390c2ff.png"},function(t,e,n){t.exports=n.p+"e4966929b0a98a569bf44f09f3fddb4e.png"},function(t,e,n){t.exports=n.p+"03f18878f22fbd2ce944cfe2a648e7f6.png"},function(t,e,n){t.exports=n.p+"ec0b2d8625abe9a257b4d4ed59649989.png"},function(t,e,n){t.exports=n.p+"ee50190c6eb2fcf1546f134bbab08ea6.png"},function(t,e,n){t.exports=n.p+"fed0a29d3e4de396013df668b524ba8f.png"},function(t,e,n){t.exports=n.p+"a931cf416ed5f24c6df27fbeea6d7733.png"},function(t,e,n){t.exports=n.p+"b05dabeb4257e172cea7c05cf36e3c9e.png"},function(t,e,n){t.exports=n.p+"c128aeb5053ddef311316cdb519c2189.png"},function(t,e,n){t.exports=n.p+"f96ca442d293f4948ee2c0e4d4670414.png"},function(t,e,n){t.exports=n.p+"f4e62cd57963f37e605c57449a12ba3a.png"},function(t,e,n){t.exports=n.p+"f2b90e100051a4d860cdd7e6ac040019.png"},function(t,e,n){t.exports=n.p+"6f4d8966fb0c7d5992aea7e0b59701fa.png"},function(t,e,n){t.exports=n.p+"50317ab3aa2818ce45ced7e35e00a913.png"},function(t,e,n){t.exports=n.p+"12fdefa3f802156aadce490c92406810.png"},function(t,e,n){t.exports=n.p+"7d0e46a6dbc4821bdd01247110a72e4e.png"},function(t,e,n){t.exports=n.p+"f29e4c4c34514bb3f6c3c7a9a08420f3.png"},function(t,e,n){t.exports=n.p+"2ff6f04d84a1fb0edabb746bf8e7dc70.png"},function(t,e,n){t.exports=n.p+"c2a45bdda85c6c026113855e9e99078e.png"},function(t,e,n){t.exports=n.p+"c2dea0f8c809fbb84ebb5e1b8239b547.png"},function(t,e,n){t.exports=n.p+"53a59bab87a78bd9441add34232a859c.png"},function(t,e,n){t.exports=n.p+"3a19cee173edb95939039f9f7184e1ac.png"},function(t,e,n){t.exports=n.p+"53a59bab87a78bd9441add34232a859c.png"},function(t,e,n){t.exports=n.p+"c2dea0f8c809fbb84ebb5e1b8239b547.png"},function(t,e,n){t.exports=n.p+"c2a45bdda85c6c026113855e9e99078e.png"},function(t,e,n){t.exports=n.p+"1ed76daad915d2ede7428cf0b175a290.jpg"},function(t,e,n){t.exports=n.p+"a60f2b68424f0a86e36d1dab83084c33.png"},function(t,e,n){t.exports=n.p+"71a578eeba1752131cac28342bb60765.png"},function(t,e,n){t.exports=n.p+"e90d0dabde0c10057cb4d7da7d4a2777.png"},function(t,e,n){t.exports=n.p+"07a016799b803de13214dd5593854f12.png"},function(t,e,n){t.exports=n.p+"cdc22387c839ff1e1776e084bf284f7f.png"},function(t,e,n){t.exports=n.p+"eb7a0c258a2d8f46db6346af04734911.png"},function(t,e,n){t.exports=n.p+"5fab8553144388f05dc318ba6332d498.png"},function(t,e,n){t.exports=n.p+"c0a114cce6312bc81a24f7a6e2deea43.png"},function(t,e,n){t.exports=n.p+"d8b255f7d29962b36f7fffebc8351b0e.png"},function(t,e,n){t.exports=n.p+"cfe54ce94b9722f2bb0ac6eb0022df66.png"},function(t,e,n){t.exports=n.p+"a08a6acab34cf133baa3f6fb1c64c1ff.png"},function(t,e,n){t.exports=n.p+"92d62be02f192186115433d4d2a52ba4.png"},function(t,e,n){t.exports=n.p+"c684e542b1e1b9577143087c47424b7c.png"},function(t,e,n){t.exports=n.p+"53e05e570cbc92c5062f22097a972d85.png"},function(t,e,n){t.exports=n.p+"c941973c4868bdd80ab4e9daed66f20b.png"},function(t,e,n){t.exports=n.p+"7a89e576045aa7f3538f442d32f60b05.png"},function(t,e,n){t.exports=n.p+"a2a854a14ea684983f593cd9913d553f.png"},function(t,e,n){t.exports=n.p+"310a3754282cba6089eb8157fe007276.png"},function(t,e,n){t.exports=n.p+"3c4c64c690c00f560f42a9617dfc3450.png"},function(t,e,n){t.exports=n.p+"a60f2b68424f0a86e36d1dab83084c33.png"},function(t,e,n){t.exports=n.p+"cbe38c203c9c3430a1740b4c981b2116.png"},function(t,e,n){t.exports=n.p+"491b562db32e584fc8bae31b44e131f9.png"},function(t,e,n){t.exports=n.p+"08fad4d20f1ebbf8ec886a06366eadce.png"},function(t,e,n){t.exports=n.p+"de64a874425762f035677bf02a98bd94.png"},function(t,e,n){t.exports=n.p+"715c27ede3ad9aec2c772295a8b07ed2.png"},function(t,e,n){t.exports=n.p+"c3561a910cb5984d7e9710acae374c3f.png"},function(t,e,n){t.exports=n.p+"3db7bca686b008830290d408a5c30bc2.png"},function(t,e,n){t.exports=n.p+"ec962754ff96d2c30dc9738b01148a9e.png"},function(t,e,n){t.exports=n.p+"d423411bff19a71417312fa254b56859.png"},function(t,e,n){t.exports=n.p+"77f5b198471d55392350705789b3d078.png"},function(t,e,n){t.exports=n.p+"82acfb9f55645820cf45e34065410086.png"},function(t,e,n){t.exports=n.p+"4604541f1567810886dd2a7f2a3c2640.png"},function(t,e,n){t.exports=n.p+"aa4670b8de0b5156940775039b97e5d7.png"},function(t,e,n){t.exports=n.p+"5ba131cf5b7709f37863d8480b7abcaf.png"},function(t,e,n){t.exports=n.p+"8c467aee054ef9d74f768e362627d1a2.png"},function(t,e,n){t.exports=n.p+"cc3c4961870e9041b361bdb7d39afa59.png"},function(t,e,n){t.exports=n.p+"8f068f31f00a614e634be2c1f61a1be3.png"},function(t,e,n){t.exports=n.p+"852dae9bd4e02a2dd1e3366048bd379a.png"},function(t,e,n){t.exports=n.p+"d76672d8cbcae409563d287e97535851.png"},function(t,e,n){t.exports=n.p+"91a89d635520e7755e8e57c4717c503f.png"},function(t,e,n){t.exports=n.p+"d76672d8cbcae409563d287e97535851.png"},function(t,e,n){t.exports=n.p+"852dae9bd4e02a2dd1e3366048bd379a.png"},function(t,e,n){t.exports=n.p+"8f068f31f00a614e634be2c1f61a1be3.png"},function(t,e,n){t.exports=n.p+"4a6e7f7e4627f42c98c9b6a8451ae69d.png"},function(t,e,n){t.exports=n.p+"13130241fe4eb0ded5295333b0884b49.png"},function(t,e,n){t.exports=n.p+"ae21192916a83c264d73107293e1e871.png"},function(t,e,n){t.exports=n.p+"37b420f9e3fea7f7d6a38da7ae037b15.png"},function(t,e,n){t.exports=n.p+"70dcdf4c8b1fda66d88186b1a82bc8d9.png"},function(t,e,n){t.exports=n.p+"f0f97f72246c4bb3d295a735e30b65c0.png"},function(t,e,n){t.exports=n.p+"f9ff85172dfea8921efb45d206bac408.png"},function(t,e,n){t.exports=n.p+"2824992e9c1c14e1754a18b5e314af64.png"},function(t,e,n){t.exports=n.p+"1226527a94dd134a59ba6e997b8e0033.png"},function(t){t.exports={}},function(t,e,n){"use strict";n.r(e);class i{constructor(t,e,n){this.rootx=[],this.headx=[],this.heady=[],this.x=[],this.len=[],this.alpha=0,this.amp=[],this.num=50;for(var i=0;i<this.num;i++)this.rootx[i]=16*i+20*Math.random(),this.headx[i]=this.rootx[i],this.heady[i]=e-280+50*Math.random(),this.amp[i]=50*Math.random()+50;this.canHeight=e,this.timeLine=n,this.ctx2=t}draw(){let t=this.timeLine.getDeltaTime();this.alpha+=8e-4*t;var e=Math.sin(this.alpha);let n=this.ctx2;n.save(),n.globalAlpha=.6;for(var i=0;i<this.num;i++)n.beginPath(),n.moveTo(this.rootx[i],this.canHeight),this.headx[i]=this.rootx[i]+e*this.amp[i],n.quadraticCurveTo(this.rootx[i],this.canHeight-100,this.headx[i],this.heady[i]),n.lineWidth=20,n.lineCap="round",n.strokeStyle="#3b154e",n.stroke();n.restore()}}class a{static calLength2(t,e,n,i){return Math.pow(t-n,2)+Math.pow(e-i,2)}static randomColor(){var t=[0,1,2];return t[0]=100*Math.random()+155,t[0]=t[0].toFixed(),t[1]=100*Math.random()+155,t[1]=t[1].toFixed(),t[2]=100*Math.random()+155,t[2]=t[2].toFixed(),t[Math.floor(3*Math.random())]=0,"rgba("+t[0]+","+t[1]+","+t[2]+","}static lerpAngle(t,e,n){var i=e-t;return i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI),t+i*n}static lerpDistance(t,e,n){return t+(e-t)*n}static inOboundary(t,e,n,i,a,o){return t>n&&t<i&&e>a&&e<o}static rgbColor(t,e,n){return"rgba("+(t=Math.round(256*t))+","+(e=Math.round(256*e))+","+(n=Math.round(256*n))+",1)"}static rgbNum(t,e,n){return"rgba("+(t=Math.round(256*t))+","+(e=Math.round(256*e))+","+(n=Math.round(256*n))}static rnd(t){var e=t||1;return Math.random()*e}static rateRandom(t,e){for(var n=0,i=1;i<e-t;i++)n+=i;var a=Math.random()*n;for(i=1;i<e-t;i++)if((a-=i)<0)return i-1+t}static distance(t,e,n,i,a){var o=Math.abs(t-n),s=Math.abs(e-i);return o<a&&s<a}static AABBbox(t,e,n,i,a,o,s){return A1=t.x+s,B1=t.x+e-s,C1=t.y+s,D1=t.y+n-s,A2=i.x+s,B2=i.x+a-s,C2=i.y+s,D2=i.y+o-s,!(A1>B2||B1<A2||C1>D2||D1<C2)}static dis2(t,e,n,i){var a=t-n,o=e-i;return a*a+o*o}static rndi2(t,e){var n=Math.random()*(e-t)+t;return Math.floor(n)}}class o{constructor(t,e,i,a,o,s,p){this.x,this.y,this.angle,this.momTailTimer=0,this.momTailCount=0,this.momEyeTimer=0,this.momEyeCount=0,this.momEyeInterval=1e3,this.momBodyCount=0,this.x=.5*t,this.y=.5*e,this.angle=0,this.timeLine=o,this.mx=i,this.my=a,this.ctx1=s,this.data=p;const r=n(3);let c,d,h;console.log("tag",r.keys()),this.momTail=[];for(var f=0;f<8;f++)d=r(c="./bigTail6.png"),this.momTail[f]=new Image,this.momTail[f].src=d;this.momEye=[];for(f=0;f<2;f++)h=r(c="./babyEye"+f+".png"),this.momEye[f]=new Image,this.momEye[f].src=h;this.momBodyOra=[],this.momBodyBlue=[];for(f=0;f<8;f++){let t=r(c="./bigSwim"+f+".png");this.momBodyOra[f]=new Image,this.momBodyOra[f].src=t;let e=r(c="./bigSwimBlue"+f+".png");this.momBodyBlue[f]=new Image,this.momBodyBlue[f].src=e}}draw(){let t=this.mx,e=this.my,n=this.timeLine.getDeltaTime(),i=this.ctx1,o=this.momTail,s=this.momEye,p=this.momBodyBlue,r=this.momBodyOra,c=this.data;this.x=a.lerpDistance(t,this.x,.9),this.y=a.lerpDistance(e,this.y,.9);var d=e-this.y,h=t-this.x,f=Math.atan2(d,h)+Math.PI;this.angle=a.lerpAngle(f,this.angle,.6),this.momTailTimer+=n,this.momTailTimer>50&&(this.momTailCount=(this.momTailCount+1)%8,this.momTailTimer%=50),this.momEyeTimer+=n,this.momEyeTimer>this.momEyeInterval&&(this.momEyeCount=(this.momEyeCount+1)%2,this.momEyeTimer%=this.momEyeInterval,0==this.momEyeCount?this.momEyeInterval=1500*Math.random()+2e3:this.momEyeInterval=200),i.save(),i.translate(this.x,this.y),i.rotate(this.angle);var b=this.momTailCount;i.drawImage(o[b],.5*-o[b].width+30,.5*-o[b].height);var g=this.momBodyCount;1==c.double?i.drawImage(r[g],.5*-r[g].width,.5*-r[g].height):i.drawImage(p[g],.5*-p[g].width,.5*-p[g].height);var u=this.momEyeCount;i.drawImage(s[u],.5*-s[u].width,.5*-s[u].height),i.restore()}}class s{constructor(t,e,n,i){this.bgPic=t,this.canWidth=e,this.canHeight=n,this.ctx2=i}drawBackground(){this.ctx2.drawImage(this.bgPic,0,0,this.canWidth,this.canHeight)}monitorFruit(t){for(var e=0,n=0;n<t.num;n++)t.alive[n]&&e++;e<15&&sendFruit(t)}sendFruit(t){for(var e=0;e<t.num;e++)if(!t.alive[e])return void t.born(e)}}var p=n(1),r=n.n(p),c=n(0),d=n.n(c);class h{constructor(t,e,n){this.alive=[],this.x=[],this.y=[],this.l=[],this.speed=[],this.fruitType=[],this.orange=new Image,this.blue=new Image,this.aneNO=[],this.num=30,this.ane=e;for(var i=0;i<this.num;i++)this.alive[i]=!0,this.x[i]=0,this.y[i]=0,this.speed[i]=.01*Math.random()+.005,this.aneNO[i]=0,this.born(i);this.orange.src=r.a,this.blue.src=d.a,this.ctx2=t,this.timeLine=n}draw(){let t=this.timeLine.getDeltaTime(),e=this.ctx2;for(var n=0;n<this.num;n++)if(this.alive[n]){if("blue"==this.fruitType[n])var i=this.blue;else i=this.orange;if(this.l[n]<=14){var a=this.aneNO[n];this.x[n]=this.ane.headx[a],this.y[n]=this.ane.heady[a],this.l[n]+=this.speed[n]*t}else this.y[n]-=7*this.speed[n]*t;e.drawImage(i,this.x[n]-.5*this.l[n],this.y[n]-.5*this.l[n],this.l[n],this.l[n]),this.y[n]<10&&(this.alive[n]=!1)}}born(t){var e=Math.floor(Math.random()*this.ane.num);this.aneNO[t]=e,this.l[t]=0,this.alive[t]=!0;var n=Math.random();this.fruitType[t]=n<.3?"blue":"orange"}update(){h.num=0}dead(t){this.alive[t]=!1}monitor(){for(var t=0,e=0;e<this.num;e++)this.alive[e]&&t++;t<15&&this.sendFruit()}sendFruit(){for(var t=0;t<this.num;t++)if(!this.alive[t])return void this.born(t)}}class f{constructor(){this.fruitNum=0,this.double=1,this.score=0,this.gameover=!1,this.alpha=0}getGameOver(){return this.gameover}draw(){var t=canvas1.width,e=canvas2.height;ctx1.shadowBlur=10,ctx1.shadowColor="white",ctx1.fillStyle="white",ctx1.fillText("SCORE: "+this.score,.5*t,e-20),this.gameover&&(this.alpha+=5e-4*deltaTime,this.alpha>1&&(this.alpha=1),ctx1.fillStyle="rgba(255,255,255,"+this.alpha+")",ctx1.fillText("GAMEOVER",.5*t,.5*e))}addScore(){this.score+=100*this.fruitNum*this.double,this.fruitNum=0,this.double=1}}var b=n(2),g=n.n(b);class u{constructor(){this.deltaTime=0,this.lastTime=Date.now()}getDeltaTime(){return this.deltaTime}nextTick(){let t=Date.now(),e=t-this.lastTime;this.lastTime=t,e>50&&(e=50),this.deltaTime=e}}n(88);class m{constructor(t){this.canvas1=document.getElementById("canvas1"),this.canvas2=document.getElementById("canvas2"),this.ctx1=this.canvas1.getContext("2d"),this.ctx2=this.canvas2.getContext("2d"),this.window=t,this.canvas1.addEventListener("mousemove",this.onMouseMove,!1),this.canWidth=this.canvas1.width,this.canHeight=this.canvas1.height,this.mx=.5*this.canWidth,this.my=.5*this.canHeight,this.bg=new Image,this.bg.src=g.a,this.timeLine=new u,this.oceaContext=new s(this.bg,this.canWidth,this.canHeight,this.ctx2),this.ane=new i(this.ctx2,this.canHeight,this.timeLine),this.data=new f,this.fruit=new h(this.ctx2,this.ane,this.timeLine),this.fishMom=new o(this.canWidth,this.canHeight,this.mx,this.my,this.timeLine,this.ctx1,this.data),this.onMouseMove.bind(this),this.ctx1.font="30px Verdana",this.ctx1.textAlign="center"}onMouseMove(t){(t.offSetX||t.layerX)&&(this.mx=void 0==t.offSetX?t.layerX:t.offSetX,this.my=void 0==t.offSetY?t.layerY:t.offSetY),console.log(this.mx),console.log(this.my)}gameloop(){requestAnimationFrame(this.gameloop.bind(this)),this.timeLine.nextTick(),this.oceaContext.drawBackground(),this.ane.draw(),this.fruit.monitor(),this.ctx1.clearRect(0,0,this.canWidth,this.canHeight),this.fruit.draw(),this.fishMom.draw()}}document.body.onload=function(){(new m).gameloop()},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}]);